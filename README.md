Project RatRace: a Framework for Time Series Modeling Evaluation

Overview:

Our team explores the use of machine learning models to predict stock market movements based on historical price and economic/technical indicator data. Inspired by Michael Marcovici’s “RATTRADERS” experiment, where rats were trained to respond to market signals through sound, our team aimed to create a digital equivalent. We replaced rats with machine learning algorithms and the sound based cues with financial data.

Data Access Statement:

 This project uses publicly available historical stock data from Yahoo Finance using the open source yfinance Python library. The data includes daily open, high, low, close, volume, and adjusted close prices for publicly traded companies. All data is freely accessible through Yahoo Finance’s data platform. This project also uses publicly available economic data sourced from the Federal Reserve of St. Louis’ “Federal Economic Research Database (FRED)” and downloaded into various .csv files. This includes historical data for indicators like GDP, personal income levels, and durable goods orders. All data in these datasets is freely available through the FRED website.

Relative Paths:

The notebooks in our pipeline were developed in Google Collab, and file paths are relative to the Google Collab environment.

To access files stored in you Google Drive, the following code is used in each notebook:

from google.colab import drive
drive.mount('/content/drive')

Once mounted, files are read from a specific directory, for example:

shared_drive = "/content/drive/MyDrive/Capstone_Docs_Shared/"
filename = "nyse_tickers.txt"
filepath = os.path.join(shared_drive, filename)

If you are using your own Google Drive, be sure to modify shared_drive to match your folder structure and place all input files in that directory.

Notebook Pipeline Overview


Notebook 1: Stock Data Download

	Filename: 1_Capstone_data_stocks_final.ipynb
 
	Required Libraries: yfinance, pandas, numpy, os, pathlib, glob, time
 
	Inputs: Ticker symbol list, proper library installations
 
		pip installation for source data download from yfinance library
		Ticker symbol .txt file (nyse_tickers.txt)
  
	Outputs: Historical stock market data separated by ticker symbol and day
 

Notebook 2: Economic Indicator Data Read

	Filename: 2_Capstone_data_ei_final.ipynb
 
	Required Libraries: pandas, os, glob, functools, sklearn.preprocessing, matplotlib   
 
	Inputs: Source csv data files downloaded from FRED
 
	Outputs: Historical economic data separated by indicator symbol and observation date


Notebook 3: Source Data Merge
	Filename: 3_Capstone_data_merge_final.ipynb
 
	Required Libraries: pandas, os 	
 
	Inputs: Independent historical source data
 
		Stock Data (Output from NB1)
  
		Economic Data (Output from NB2)
  
	Outputs: Merged data structure containing historical stock and economic data


Notebook 4: KPI Calculation

	Filename: 4_Capstone_preprocess_kpi_final.ipynb
 
	Required Libraries: pandas, numpy, os, glob, ta
 
	Inputs: Merged stock and economic data (Output from NB3)
 
	Outputs: Historical data with KPI-calculated features attached
 

Notebook 5: Sampling Document

	Filename: 5_Capstone_model_sampling_final.ipynb
 
	Required Libraries: pandas, numpy, os, sklearn.model_selection, sklearn.preprocessing, matplotlib.pyplot
 
	Inputs: Historical data with KPI-calculated features (Output from NB4)
 
	Outputs: Labeled Train / Validation / Test data Folds for historical data
 

Notebook 6: Feature Engineering

	Filename: 6_Capstone_feature_engineering_final.ipynb
 
	Required Libraries: pandas, os, numpy, collections, seaborn, matplotlib
 
	Inputs: Labeled Training data only to avoid data leakage (Partial Output from NB5)
 
	Outputs: List of most influential features used to filter labeled data splits
 

Notebook 7: Modeling Template

	Filename: 7_Capstone_model_template_final.ipynb
 
	Required Libraries: pandas, numpy, os, itertools, csv, datetime, warnings, sklearn.model_selection, sklearn.metrics, sklearn.base, sklearn.ensemble, sklearn.neighbors, sklearn.naive_bayes, sklearn.tree, sklearn.neural_network
 
	Inputs: Labeled and Filtered Train / Validation / Test data splits (Output from NBs 5 & 6)
 
	Outputs: Prediction data generated by given model for selected data split
 

Notebook 8: Evaluation

	Filename: 8_Capstone_model_evaluation_final.ipynb
 
	Required Libraries: pandas, glob, os, re, sklearn.metrics, seaborn, matplotlib, datetime
 
	Inputs: Labeled data for Test data split
 
		Actual “unseen” labels (Partial Output from NBs 5 & 6)
  
		Predicted “unseen” labels (Output from NB7)
  
	Outputs: Various prediction accuracy metrics per model type


